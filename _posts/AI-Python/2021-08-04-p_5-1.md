---
title:  "[부스트캠프 AI Tech / Day3] Exception / File / Log Handling"

categories:
  - Python for AI
tags:
  - Python
toc: true
toc_sticky: true
 
date: 2021-08-04
last_modified_at: 2021-08-07
---

# Exception / File / Log Handling  
<br>

## Exception  
* 예상 가능한 예외  
	* 발생 여부 사전에 인지 가능  
	* 명시적으로 정의해야함  
* 예상 불가능한 예외  
	* 인터프리터 과정에서 발생하는 예외  
	* 수행 불가시 인터프리터가 자동 호출  
<br>

### Exception Handling  
* try~except  
```python
for i in range(3):
	try:	# 예외 발생 가능 코드
		print(6/i)
	except ZeroDivisionError:	# 예외 발생시 대응하는 코드
		print("Not divided by zero")
	finally:	# 예외 발생 여부와 상관없이 실행됨
		print("종료")
```  
* Built-in Exception  
	* IndexError : List의 Index 범위를 넘어갈 때  
	* NameError : 존재하지 않은 변수를 호출할 때  
	* ZeroDivisionError : 0으로 숫자를 나눌 때  
	* ValueError : 변환할 수 없는 문자/숫자를 변환할 때  
	* FileNotFoundError : 존재하지 않는 파일을 호출할 때  
* raise 구문  
```python
raise <Exception Type>(예외 정보)
```  
* assert 구문  
```python
assert 예외조건 # 특정 조건에 맞지 않을 경우 예외(false)발생
```  
<br>

## File Handling  
* File : OS에서 파일을 저장하는 트리구조 저장 체계  
	* Binary파일 : 이진 형식으로 저장된 파일  
	* Text파일 : 문자열 형식으로 저장된 파일  
* Python File I/O  
```python
f = open("a.txt","r")		#read()
words = f.read()
with open("b.txt","r") as b_file:	# with구문으로 read하면 종료되면 close
	w = b_file.read()	#readlines() 파일전체를 읽어옴
						#readline() 실행시 마다 한 줄씩 읽어옴
f = open("c.txt", 'w', encoding="utf8") # w는 write, a는 추가모드
# pathlib 모듈을 이용하면 path를 객체로 다룸
```  
* Pickle  
	* 객체를 영속화하는 built-in 객체  
	* 실행중 정보를 저장 -> 불러와서 사용  
```python
import pickle
f = open("l_pickle", "wb")
a_l = [1,2,3]
pickle.dump(a_l, f)
f.close()
```  
```python
f = open("l_pickle", "rb")
t_p = pickle.load(f)
print(t_p)	# [1, 2, 3]
f.close()
```  
<br>

## Logging Handling  
* 로그를 남기는 것이 중요함  
	* console에 출력(분석시 사용불가)  
	* 파일에 남기기  
	* DB에 남기기  
* 기록된 로그를 분석하여 의미있는 결과를 도출할 수 있음   
* 레벨별로 기록 남길 필요가 있음  
```python
import logging	# 레벨순
logging.debug("ddeebug")	# 개발시 기록
logging.info("iinffo") # 처리가 진행되는 동안 정보
logging.warning("wwwarning") # 개발시 의도치 않는 정보
logging.error("eeeerror") # 에러가 났으나 프로그램은 동작가능
logging.critical("cccccritical") # 잘못된 처리로 프로그램이 동작x
```  
<br>

* configparser  
	* 실행 설정을 file에저장  
	* 설정파일 Dict Type으로 호출  
* argparser  
	* Console 창에서 프로그램 실행시 setting 정보를 저장  
